<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>

    <record model="ir.ui.view" id="base.view_country_state_commune_form">
      <field name="name">base.view.country.state.commune.form</field>
      <field name="model">res.country.state</field>
      <field name="inherit_id" ref="base.view_country_state_form"/>
      <field name="arch" type="xml">
	<xpath expr="//group" position='after'>
	  <notebook>
	    <page string="Communes">
	      <field name='commune_ids'/>
	    </page>
	  </notebook>
	</xpath>
      </field>
    </record>


    <record model="ir.ui.view" id="sale_order_dz">
          <field name="name">sale.order.view.form_dz</field>
          <field name="model">sale.order</field>
          <field name="inherit_id" ref="sale.view_order_form"/>
          <field name="arch" type="xml">

	<xpath expr="//field[@name='order_line']/tree[@string='Sales Order Lines']/field[@name='product_id']" position="replace">
 	<field name="product_id" context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'payment':parent.payment_term,'uom':product_uom}" groups="base.group_user" on_change="product_id_change(parent.pricelist_id, product_id, product_uom_qty, False, product_uos_qty, False, name, parent.partner_id, False, True, parent.date_order, False, parent.fiscal_position, False, context)"/>
	</xpath>

	<xpath expr="//field[@name='order_line']/tree[@string='Sales Order Lines']/field[@name='product_uom_qty']" position="replace">
 	<field name="product_uom_qty" context="{'partner_id':parent.partner_id, 'quantity':product_uom_qty, 'pricelist':parent.pricelist_id, 'payment':parent.payment_term, 'uom':product_uom}" on_change="product_id_change(parent.pricelist_id, product_id, product_uom_qty, product_uom, product_uos_qty, product_uos, name, parent.partner_id, False, False, parent.date_order, False, parent.fiscal_position, True, context)"/>
	</xpath>

	     <field name="payment_term" position="replace">
	       <field name="payment_term" attrs="{'readonly': [('state', 'not in', ['draft'])], 'required': True}" on_change="onchange_payment_term(payment_term,context)"/>
             </field>
	     <field name="payment_term" position="after">
	       <field name="payment_type" invisible="1"/>
             </field>
	  </field>
	   </record>



  </data>
</openerp>
